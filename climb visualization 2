{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "description": "A dashboard with cross-highlighting.",
  "data": {
    "url": "https://raw.githubusercontent.com/adrimb14/Climbing/main/Climbb.json"
  },
  "hconcat": [
    {
      "layer": [
        {
          "transform": [{"filter": {"selection": "pts"}}],
          "height": {"step": 24.5},
          "mark": {
            "type": "bar",
            "stroke": "white",
            "fill": "#ff9900",
            "cursor": "pointer"
          },
          "selection": {"Sectors": {"type": "single", "fields": ["Sector"]}},
          "encoding": {
            "y": {
              "field": "Sector",
              "type": "nominal",
              "sort": "-x",
              "axis": {
                "titleFontSize": 15,
                "title": "Sectors",
                "labelFontSize": 12
              }
            },
            "fillOpacity": {
              "condition": {"selection": "Sectors", "value": 1},
              "value": 0.3
            },
            "x": {
              "aggregate": "count",
              "field": "Grado_estandarizado",
              "axis": {
                "titleFontSize": 15,
                "title": "Number of routes",
                "labelFontSize": 12
              }
            }
          }
        }
      ]
    },
    {
      "layer": [
        {
          "transform": [{"filter": {"selection": "Sectors"}}],
          "height": {"step": 20},
          "mark": {"type": "bar", "stroke": "white", "cursor": "pointer"},
          "selection": {
            "pts": {"type": "single", "fields": ["Grado_estandarizado"]}
          },
          "encoding": {
            "y": {
              "field": "Grado_estandarizado",
              "type": "ordinal",
              "axis": {
                "titleFontSize": 15,
                "title": "Grades",
                "labelFontSize": 12
              }
            },
            "x": {
              "aggregate": "count",
              "field": "Grado_estandarizado",
              "axis": {
                "titleFontSize": 15,
                "title": "Number of routes",
                "labelFontSize": 12
              }
            },
            "color": {
              "field": "Grado_estandarizado",
              "type": "ordinal",
              "legend": null
            },
            "fillOpacity": {
              "condition": {"selection": "pts", "value": 1},
              "value": 0.3
            }
          }
        }
      ]
    }
  ],
  "resolve": {"legend": {"color": "independent", "size": "independent"}},
  "config": {}
}
